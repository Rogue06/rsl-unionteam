<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNION TEAM - Manager Officier</title>
    <style>
        :root {
            --bg-darker: #1e1f22;
            --bg-main: #2b2d31;
            --bg-preview: #313338;
            --text-white: #ffffff;
            --text-main: #dbdee1;
            --text-muted: #949ba4;
            --accent-discord: #5865f2;
            --success-green: #248046;
            --warning-orange: #f0b232;
            --danger-red: #da373c;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: "gg sans", sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            overflow: hidden;
        }

        header {
            background-color: var(--bg-darker);
            height: 80px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 25px;
            border-bottom: 2px solid #1a1b1e;
        }

        .btn-group { display: flex; gap: 10px; align-items: center; }
        
        button {
            padding: 8px 14px; border-radius: 4px; border: none;
            font-weight: 600; cursor: pointer; transition: 0.2s;
            font-size: 12px; display: flex; align-items: center; gap: 6px;
        }
        
        .btn-blue { background-color: var(--accent-discord); color: white; }
        .btn-green { background-color: var(--success-green); color: white; }
        .btn-help { background-color: transparent; border: 1px solid var(--text-muted); color: var(--text-muted); }
        .btn-reset { background-color: #4f545c; color: white; font-size: 11px; }

        /* Bloc de d√©coupage jaune pointill√© */
        .split-container {
            display: none; align-items: center; gap: 15px;
            border: 2px dashed var(--warning-orange); padding: 8px 15px; border-radius: 8px;
        }
        .part-label { font-size: 11px; font-weight: 800; color: var(--warning-orange); text-transform: uppercase; }

        .container { display: flex; height: calc(100% - 80px); }
        .editor-zone { flex: 1; background-color: var(--bg-darker); padding: 20px; display: flex; flex-direction: column; border-right: 1px solid #1a1b1e; }
        .preview-zone { flex: 1; background-color: var(--bg-preview); padding: 20px; overflow-y: auto; }

        .section-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
        .badge { background: var(--accent-discord); color: white; border-radius: 50%; width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; }

        textarea { flex: 1; background: #232428; border: 1px solid #1a1b1e; border-radius: 8px; color: #dcddde; font-family: 'Consolas', monospace; font-size: 14px; padding: 15px; outline: none; resize: none; line-height: 1.5; }

        .discord-mockup { font-size: 1rem; line-height: 1.4; white-space: pre-wrap; }
        .discord-mockup strong { color: #fff; font-weight: 700; }
        .discord-mockup hr { border: none; border-top: 1px solid #4e5058; margin: 20px 0; }

        /* Alerte fluo pour le partage coll√®gue */
        .warning-box {
            display: none; background: rgba(36, 128, 70, 0.1); border: 2px dashed #3ba55c; padding: 12px; margin-bottom: 15px; border-radius: 8px; color: #3ba55c; font-weight: bold; animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }

        #helpModal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; align-items: center; justify-content: center; z-index: 1000; }
        .modal-content { background: var(--bg-main); width: 90%; max-width: 550px; padding: 30px; border-radius: 12px; color: var(--text-main); }
        .step { margin-bottom: 18px; display: flex; gap: 12px; }
        .step-num { background: var(--accent-discord); min-width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; font-size: 13px; }

        #copy-toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: var(--success-green); color: white; padding: 12px 25px; border-radius: 8px; opacity: 0; transition: 0.4s; font-weight: bold; z-index: 2000; }
    </style>
</head>
<body>

<header>
    <div style="font-weight: 800; color: white; font-size: 0.9rem;">‚öîÔ∏è UNION TEAM MANAGER</div>
    <div class="btn-group">
        <button class="btn-help" onclick="toggleHelp()">‚ùì Aide</button>
        <button class="btn-reset" onclick="resetToDefault()">üîÑ Reset</button>
        
        <div id="standard-ui" class="btn-group">
            <button class="btn-blue" onclick="copyAction('pure', 0)">üöÄ Poster direct</button>
            <button class="btn-green" onclick="copyAction('friend', 0)">üë• Partager au coll√®gue</button>
        </div>

        <div id="split-ui" class="split-container">
            <div class="btn-group">
                <span class="part-label">Partie 1 :</span>
                <button class="btn-blue" onclick="copyAction('pure', 1)">üöÄ Poster</button>
                <button class="btn-green" onclick="copyAction('friend', 1)">üë• Partager</button>
            </div>
            <div style="width: 1px; height: 30px; background: #4e5058;"></div>
            <div class="btn-group">
                <span class="part-label">Partie 2 :</span>
                <button class="btn-blue" onclick="copyAction('pure', 2)">üöÄ Poster</button>
                <button class="btn-green" onclick="copyAction('friend', 2)">üë• Partager</button>
            </div>
        </div>
    </div>
</header>

<div class="container">
    <div class="editor-zone">
        <div id="warning-msg" class="warning-box">
            ‚úÖ CODE COPI√â ! Rappelle √† ton coll√®gue d'enlever les ```js au d√©but et √† la fin pour que l'annonce soit belle.
        </div>
        <div class="section-header"><div class="badge">1</div><h2>Zone de modification</h2></div>
        <textarea id="rawText" oninput="renderPreview()"></textarea>
        <div id="charCounter" style="font-size: 11px; margin-top: 8px; font-weight: bold;">0 / 2000</div>
    </div>
    <div class="preview-zone">
        <div class="section-header"><div class="badge">2</div><h2>Rendu visuel (Discord)</h2></div>
        <div id="visualPreview" class="discord-mockup"></div>
    </div>
</div>

<div id="helpModal">
    <div class="modal-content">
        <h3 style="color:white; margin-top:0;">üìñ Guide d'utilisation</h3>
        <div class="step"><div class="step-num">1</div><div><strong>Modifiez √† gauche :</strong> Modifiez les places dispo ou les quotas. L'aper√ßu √† droite se met √† jour en temps r√©el.</div></div>
        <div class="step"><div class="step-num">2</div><div><strong>Annonce trop longue :</strong> Si vous d√©passez 2000 caract√®res, l'interface s'entoure de <b>pointill√©s jaunes</b> et vous propose de couper l'annonce en 2 parties.</div></div>
        <div class="step"><div class="step-num">3</div><div><strong>Codes couleurs :</strong><br>
            ‚Ä¢ <b style="color:var(--accent-discord)">BOUTONS BLEUS :</b> Pour vous. Copie le texte propre pour le coller vous-m√™me sur Discord.<br>
            ‚Ä¢ <b style="color:var(--success-green)">BOUTONS VERTS :</b> Pour un coll√®gue. Copie le texte dans un bloc de code (pour ne pas casser les emojis).<br>
            <i style="color:var(--warning-orange)">Le coll√®gue devra juste enlever les accents graves (```) en haut et en bas.</i>
        </div></div>
        <button class="btn-blue" style="width:100%; justify-content:center; margin-top:10px;" onclick="toggleHelp()">J'ai compris !</button>
    </div>
</div>

<div id="copy-toast">Copi√© !</div>

<script>
const emojiMap = { ":dart:":"üéØ", ":fire:":"üî•", ":boom:":"üí•", ":dragon:":"üêâ", ":smiling_imp:":"üòà", ":heavy_check_mark:":"‚úîÔ∏è", ":pushpin:":"üìå", ":crossed_swords:":"‚öîÔ∏è", ":third_place:":"ü•â", ":punch:":"üëä", ":gift:":"üéÅ", ":envelope_with_arrow:":"üì©", ":muscle:":"üí™" };

const MASTER_AD = `:dart: **[FR] L‚ÄôAlliance UNION TEAM Recrute !** :dart:
Tu veux un clan actif, organis√©, avec une vraie bonne ambiance, des strats solides et une progression garantie ?
Notre Union poss√®de **3 clans : Bronze ‚Üí Silver ‚Üí Gold**, ce qui te permet d‚Äô√©voluer naturellement selon ton niveau et ton engagement.

‚∏ª

:fire:** UNION TEAM GOLD (Top niveau)**

:boom: BDC : UNM / NM / Brutal ‚Üí tombent tous les jours
:dragon: **Hydre** : Normal / Difficile / Brutal / Cauchemar ‚Üí tout tombe
:smiling_imp:** Chim√®re** : Difficile & Cauchemar & UNM tombent 

:heavy_check_mark: **Exigences :**

‚Ä¢ Frapper **BDC UNM**
‚Ä¢ **150k RP / 80k NRP** en CvC
‚Ä¢ Quotas minimum Clash Hydre **650M** ‚Ä¢ Quotas minimum Clash Chim√®re **500M** ‚Ä¢ Activit√© Discord
:dart:** Ambiance chill + performance + bienveillance**
:pushpin: ** Place(s) disponible(s) **: √† d√©terminer

‚∏ª

:crossed_swords: **UNION TEAM SILVER (Interm√©diaire)**

:boom: **BDC** : UNM & NM ‚Üí tombent tous les jours
:dragon: **Hydre** : Normal / Difficile / Brutal
:smiling_imp: **Chim√®re** : Facile & Difficile tombent

:heavy_check_mark: **Exigences** :

‚Ä¢ Frapper** BDC UNM**
‚Ä¢ **100k RP / 50k NRP** en CvC
‚Ä¢ Quotas minimum Clash Hydre **50M** ‚Ä¢ Pr√©sence Discord
:pushpin: ** Place(s) disponible(s) **: √† d√©terminer

‚∏ª

:fire:** UNION TEAM SAVAGE **

:boom: **BDC** : UNM / NM ‚Üí tombent tous les jours
:dragon: **Hydre** : Normal / Difficile / Brutal / Cauchemar ‚Üí tout tombe
:smiling_imp:** Chim√®re** : Difficile & Cauchemar tombent & UNM en cours 

:heavy_check_mark: **Exigences :**

‚Ä¢ Puissance mini : 2M
‚Ä¢ Frapper **BDC UNM & NM**
‚Ä¢ **80k RP / 50k NRP** en CvC
‚Ä¢ Quotas minimum Clash Hydre **80M** ‚Ä¢ Quotas minimum Clash Chim√®re **100M** ‚Ä¢ Activit√© Discord
:dart:** Ambiance chill + performance + bienveillance**
:pushpin: ** Place(s) disponible(s) **:  2 √† 3 places dispo

‚∏ª

:third_place:** UNION TEAM BRONZE (Progression)**

:boom: **BDC** : UNM, NM & Brutal ‚Üí tombent chaque jour
:punch: **Objectif** : faire tomber l‚ÄôUNM ensemble !
:dragon: **Hydre** : Normal tombe

:heavy_check_mark: **Exigences :**

‚Ä¢ Frapper **BDC UNM**
‚Ä¢ **40k RP / 20k NRP** en CvC
‚Ä¢ Motivation pour monter vers **Silver**, puis **Gold**
:pushpin: **2 places dispo !**

‚∏ª

:gift: **Pourquoi nous rejoindre ?**

:heavy_check_mark: Une** communaut√© soud√©e**, mature et engag√©e
:heavy_check_mark: Des **strats partag√©es** en permanence
:heavy_check_mark: Un **Discord actif** : guides, coaching, aide, fun
:heavy_check_mark: Une vraie progression **de Bronze jusqu‚Äô√† Gold**

‚∏ª

:envelope_with_arrow:** Int√©ress√©(e) ?**
MP direct pour candidater ou poser tes questions.
On a h√¢te de t‚Äôaccueillir dans l‚ÄôUnion Team :muscle:`;

const textarea = document.getElementById('rawText');
const preview = document.getElementById('visualPreview');
const counter = document.getElementById('charCounter');
const standardUI = document.getElementById('standard-ui');
const splitUI = document.getElementById('split-ui');
const warnMsg = document.getElementById('warning-msg');

function renderPreview() {
    let content = textarea.value;
    const len = content.length;
    counter.innerText = `${len} / 2000 caract√®res`;
    counter.style.color = len > 2000 ? 'var(--danger-red)' : 'var(--text-muted)';
    
    // Affichage conditionnel des boutons (Standard vs Split)
    standardUI.style.display = len > 2000 ? 'none' : 'flex';
    splitUI.style.display = len > 2000 ? 'flex' : 'none';

    let formatted = content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/‚∏ª/g, '<hr>');
    for (const [code, icon] of Object.entries(emojiMap)) { formatted = formatted.split(code).join(icon); }
    preview.innerHTML = formatted;
}

function copyAction(type, part) {
    let content = textarea.value;
    let finalContent = "";
    
    // Logique de d√©coupage par les traits de s√©paration
    if (part !== 0) {
        const parts = content.split("‚∏ª");
        const mid = Math.ceil(parts.length / 2);
        if (part === 1) {
            finalContent = parts.slice(0, mid).join("‚∏ª") + "‚∏ª";
        } else {
            finalContent = "‚∏ª" + parts.slice(mid).join("‚∏ª");
        }
    } else {
        finalContent = content;
    }

    if (type === 'friend') {
        finalContent = "```js\n" + finalContent + "\n```";
        warnMsg.style.display = 'block';
    } else {
        warnMsg.style.display = 'none';
    }

    navigator.clipboard.writeText(finalContent);
    showToast(type === 'pure' ? "üöÄ Pr√™t √† poster !" : "üë• Pr√™t √† partager !");
}

function toggleHelp() {
    const m = document.getElementById('helpModal');
    m.style.display = (m.style.display === 'flex') ? 'none' : 'flex';
}

function resetToDefault() {
    if(confirm("Voulez-vous r√©initialiser l'annonce par d√©faut ?")) {
        textarea.value = MASTER_AD;
        renderPreview();
        warnMsg.style.display = 'none';
    }
}

function showToast(m) {
    const t = document.getElementById('copy-toast');
    t.innerText = m; t.style.opacity = '1';
    setTimeout(() => t.style.opacity = '0', 2000);
}

window.onload = () => {
    textarea.value = MASTER_AD;
    renderPreview();
};
</script>
</body>
</html>